{% extends "base.html" %}

{% block title %}Login - Attendance ERP{% endblock %}

{% block content %}
<div class="login-container">
    <div class="login-card">
        <h2>ðŸŽ“ Attendance-ERP</h2>
        <p class="subtitle">Student Attendance Management System</p>

        <form method="POST" id="loginForm">
            <div class="role-tabs">
                <label class="role-tab active">
                    <input type="radio" name="role" value="admin" checked>
                    <span>Admin</span>
                </label>
                <label class="role-tab">
                    <input type="radio" name="role" value="teacher">
                    <span>Teacher</span>
                </label>
                <label class="role-tab">
                    <input type="radio" name="role" value="student">
                    <span>Student</span>
                </label>
            </div>

            <div class="form-group">
                <label for="username" id="usernameLabel">Username</label>
                <input type="text" id="username" name="username" placeholder="Enter username" required>
            </div>

            <div class="form-group" id="passwordField">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" placeholder="Enter password">
            </div>

            <button type="submit" class="btn btn-primary">Login</button>
        </form>
        
        <p class="demo-text">Admin: admin/admin123, Teacher: abc/abc</p> 
    </div>
</div>

<script>
    const roleInputs = document.querySelectorAll('input[name="role"]');
    const passwordField = document.getElementById('passwordField');
    const passwordInput = document.getElementById('password');
    const usernameLabel = document.getElementById('usernameLabel');
    const usernameInput = document.getElementById('username');
    const roleTabs = document.querySelectorAll('.role-tab');

    roleInputs.forEach(input => {
        input.addEventListener('change', function() {
            roleTabs.forEach(tab => tab.classList.remove('active'));
            this.closest('.role-tab').classList.add('active');

            if (this.value === 'student') {
                passwordField.style.display = 'none';
                passwordInput.required = false;
                usernameLabel.textContent = 'PRN Number';
                usernameInput.placeholder = 'Enter your PRN';
            } else {
                passwordField.style.display = 'block';
                passwordInput.required = true;
                usernameLabel.textContent = 'Username';
                usernameInput.placeholder = 'Enter username';
            }
        });
    });
</script>
{% endblock %}
